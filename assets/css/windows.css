.window {
    position:absolute;
    min-width:260px;
    min-height:160px;
    border-radius:var(--radius);
    background:var(--panel);
    box-shadow:var(--shadow);
    border:1px solid #0c0e10;
    overflow:hidden;
}
.window:focus-within { outline:1px solid var(--accent-2) }

.titlebar {
    height:var(--titlebar-h);
    display:flex;
    align-items:center;
    gap:8px;
    padding:0 8px;
    background:linear-gradient(180deg,#2a2f36,#242a30);
    border-bottom:1px solid #171a1d;
    cursor:grab;
}
.titlebar:active { cursor:grabbing }
.title { font-weight:700; font-size:12.5px; letter-spacing:.3px; color:#fff }
.titlebar .spacer { flex:1 }

.win-btn {
    width:22px;
    height:20px;
    display:grid;
    place-items:center;
    border-radius:6px;
    border:1px solid #0e1012;
    background:var(--panel-2);
    color:#dcdcdc;
    cursor:pointer;
}
.win-btn:hover { background:#343a40 }
.win-btn.close { color:#ff6b6b; border-color:#3a1616 }

.content {
    height:calc(100% - var(--titlebar-h));
    background:linear-gradient(180deg,#202428,#1b1f23);
    padding:10px;
    color:var(--muted);
}

.resize-handle {
    position:absolute;
    right:6px;
    bottom:6px;
    width:14px;
    height:14px;
    border-right:2px solid #4a5056;
    border-bottom:2px solid #4a5056;
    cursor:nwse-resize;
    opacity:.85;
}

.browser-tree { display: grid; gap: 6px; font-size: 12px; }
.browser-item {padding: 6px 8px; border-radius: 6px; background: #242a31; color: dfe6ee; }
.browser-item:hover {background: #2a3038; }

.rack {
    display: grid;
    grid-template-columns: 120px repeat(16, 1fr);
    gap: 6px;
    align-items: center;
}
.rack .inst {
    background: #252b32;
    color: #eaeaea;
    padding: 6px 8px;
    border-radius: 6px;
    font-weight: 600;
}

.step {
    height: 18px;
    border-radius: 4px;
    background: var(--step-off);
    border: 1px solid #2f363d;
}
.step.on { background: var(--step-on); border-color: #a35d00; }

.beat-seq:nth-child(4n+2) .step { box-shadow: inset -2px 0 0 rgba(0, 0, 0, .35); }

.timeline { display: flex; gap: 8px; color: #cbd3db; margin-bottom: 8px; }
.timeline .bar { width: 40px; text-align: center; font-size: 11px; opacity: .8; }

.tracks { display: grid; gap: 6px; }
.track {
    height: 32px;
    background: #262c33;
    border: 1px solid #0e1115;
    border-radius: 8px;
    position: relative;
    overflow: hidden;
}

.clip {
    position: absolute;
    top: 4px;
    bottom: 4px;
    left: 6px;
    right: 40%;
    background: var(--clip);
    border-radius: 6px;
    opacity: .85;
}
.clip.alt { background: var(--clip-alt); }

.mixer {
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    gap: 10px;
    align-items: end;
    height: 100%;
}

.strip {
    display: grid;
    grid-template-rows: auto 1fr auto;
    gap: 6px;
    background: #23282f;
    border: 1px solid #0e1012;
    border-radius: 8px;
    padding: 8px;
}
.strip .label {
    align-items: center;
    color: #eaeaea;
    font-weight: 600;
    font-size: 12px;
}

.meter {
    height: 120px;
    background: linear-gradient(180deg, #1a1d21, #0f1114);
    border-radius: 6px;
    border: 1px solid #0d0f12;
    position: relative;
    overflow: hidden;
}
.meter::after {
    content: "";
    position: absolute;
    left: 2px;
    right: 2px;
    bottom: 0;
    height: 35%;
    background: linear-gradient(180deg, var(--meter), #2b8c2b);
    border-radius: 4px;
}

.knob {
    height: 24px;
    border-radius: 999px;
    background: #2f3540;
    border: 1px solid #0e1012;
    display: grid;
    place-items: center;
    color: #cdd5de;
    font-size: 12px;
}
